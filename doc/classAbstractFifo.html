<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.6"/>
<title>JUCE: AbstractFifo Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { searchBox.OnSelectItem(0); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td style="padding-left: 0.5em;">
   <div id="projectname">JUCE
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.6 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="hierarchy.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
<a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(0)"><span class="SelectionMark">&#160;</span>All</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(1)"><span class="SelectionMark">&#160;</span>Classes</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(2)"><span class="SelectionMark">&#160;</span>Namespaces</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(3)"><span class="SelectionMark">&#160;</span>Files</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(4)"><span class="SelectionMark">&#160;</span>Functions</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(5)"><span class="SelectionMark">&#160;</span>Variables</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(6)"><span class="SelectionMark">&#160;</span>Typedefs</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(7)"><span class="SelectionMark">&#160;</span>Enumerations</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(8)"><span class="SelectionMark">&#160;</span>Enumerator</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(9)"><span class="SelectionMark">&#160;</span>Friends</a><a class="SelectItem" href="javascript:void(0)" onclick="searchBox.OnSelectItem(10)"><span class="SelectionMark">&#160;</span>Macros</a></div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="classAbstractFifo-members.html">List of all members</a>  </div>
  <div class="headertitle">
<div class="title">AbstractFifo Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Encapsulates the logic required to implement a lock-free FIFO.  
 <a href="classAbstractFifo.html#details">More...</a></p>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:accd680c366b4b8ca4f30ee8fb2b37b75"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#accd680c366b4b8ca4f30ee8fb2b37b75">AbstractFifo</a> (int capacity) noexcept</td></tr>
<tr class="memdesc:accd680c366b4b8ca4f30ee8fb2b37b75"><td class="mdescLeft">&#160;</td><td class="mdescRight">Creates a FIFO to manage a buffer with the specified capacity.  <a href="#accd680c366b4b8ca4f30ee8fb2b37b75">More...</a><br/></td></tr>
<tr class="separator:accd680c366b4b8ca4f30ee8fb2b37b75"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a81ff19ff8eed394e9f7aca08ae1e8e8d"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a81ff19ff8eed394e9f7aca08ae1e8e8d">~AbstractFifo</a> ()</td></tr>
<tr class="memdesc:a81ff19ff8eed394e9f7aca08ae1e8e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Destructor.  <a href="#a81ff19ff8eed394e9f7aca08ae1e8e8d">More...</a><br/></td></tr>
<tr class="separator:a81ff19ff8eed394e9f7aca08ae1e8e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7724b664c3aae6cbaad1a3821ccaf654"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a7724b664c3aae6cbaad1a3821ccaf654">getTotalSize</a> () const noexcept</td></tr>
<tr class="memdesc:a7724b664c3aae6cbaad1a3821ccaf654"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the total size of the buffer being managed.  <a href="#a7724b664c3aae6cbaad1a3821ccaf654">More...</a><br/></td></tr>
<tr class="separator:a7724b664c3aae6cbaad1a3821ccaf654"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aeb68b5aec74f6511c76df390eda588ee"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#aeb68b5aec74f6511c76df390eda588ee">getFreeSpace</a> () const noexcept</td></tr>
<tr class="memdesc:aeb68b5aec74f6511c76df390eda588ee"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of items that can currently be added to the buffer without it overflowing.  <a href="#aeb68b5aec74f6511c76df390eda588ee">More...</a><br/></td></tr>
<tr class="separator:aeb68b5aec74f6511c76df390eda588ee"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a39ab3206298a1aabb4412a6993b4023b"><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a39ab3206298a1aabb4412a6993b4023b">getNumReady</a> () const noexcept</td></tr>
<tr class="memdesc:a39ab3206298a1aabb4412a6993b4023b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the number of items that can currently be read from the buffer.  <a href="#a39ab3206298a1aabb4412a6993b4023b">More...</a><br/></td></tr>
<tr class="separator:a39ab3206298a1aabb4412a6993b4023b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a33ba0f93c22c9cc182f8fa78af07862f"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a33ba0f93c22c9cc182f8fa78af07862f">reset</a> () noexcept</td></tr>
<tr class="memdesc:a33ba0f93c22c9cc182f8fa78af07862f"><td class="mdescLeft">&#160;</td><td class="mdescRight">Clears the buffer positions, so that it appears empty.  <a href="#a33ba0f93c22c9cc182f8fa78af07862f">More...</a><br/></td></tr>
<tr class="separator:a33ba0f93c22c9cc182f8fa78af07862f"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5ece35129a957c8783411de69b2542ec"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a5ece35129a957c8783411de69b2542ec">setTotalSize</a> (int newSize) noexcept</td></tr>
<tr class="memdesc:a5ece35129a957c8783411de69b2542ec"><td class="mdescLeft">&#160;</td><td class="mdescRight">Changes the buffer's total size.  <a href="#a5ece35129a957c8783411de69b2542ec">More...</a><br/></td></tr>
<tr class="separator:a5ece35129a957c8783411de69b2542ec"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9f32996a86817773a7165be823f80c87"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a9f32996a86817773a7165be823f80c87">prepareToWrite</a> (int numToWrite, int &amp;startIndex1, int &amp;blockSize1, int &amp;startIndex2, int &amp;blockSize2) const noexcept</td></tr>
<tr class="memdesc:a9f32996a86817773a7165be823f80c87"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location within the buffer at which an incoming block of data should be written.  <a href="#a9f32996a86817773a7165be823f80c87">More...</a><br/></td></tr>
<tr class="separator:a9f32996a86817773a7165be823f80c87"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0daf6067beb737a4136e7e9d8f26bab0"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a0daf6067beb737a4136e7e9d8f26bab0">finishedWrite</a> (int numWritten) noexcept</td></tr>
<tr class="memdesc:a0daf6067beb737a4136e7e9d8f26bab0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after writing from the FIFO, to indicate that this many items have been added.  <a href="#a0daf6067beb737a4136e7e9d8f26bab0">More...</a><br/></td></tr>
<tr class="separator:a0daf6067beb737a4136e7e9d8f26bab0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a880ae9f1e0a08f3c0cfe95f03b279f96"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a880ae9f1e0a08f3c0cfe95f03b279f96">prepareToRead</a> (int numWanted, int &amp;startIndex1, int &amp;blockSize1, int &amp;startIndex2, int &amp;blockSize2) const noexcept</td></tr>
<tr class="memdesc:a880ae9f1e0a08f3c0cfe95f03b279f96"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the location within the buffer from which the next block of data should be read.  <a href="#a880ae9f1e0a08f3c0cfe95f03b279f96">More...</a><br/></td></tr>
<tr class="separator:a880ae9f1e0a08f3c0cfe95f03b279f96"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a651019308fd148a1d1a84947d57e1679"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractFifo.html#a651019308fd148a1d1a84947d57e1679">finishedRead</a> (int numRead) noexcept</td></tr>
<tr class="memdesc:a651019308fd148a1d1a84947d57e1679"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called after reading from the FIFO, to indicate that this many items have now been consumed.  <a href="#a651019308fd148a1d1a84947d57e1679">More...</a><br/></td></tr>
<tr class="separator:a651019308fd148a1d1a84947d57e1679"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Encapsulates the logic required to implement a lock-free FIFO. </p>
<p>This class handles the logic needed when building a single-reader, single-writer FIFO.</p>
<p>It doesn't actually hold any data itself, but your FIFO class can use one of these to manage its position and status when reading or writing to it.</p>
<p>To use it, you can call <a class="el" href="classAbstractFifo.html#a9f32996a86817773a7165be823f80c87" title="Returns the location within the buffer at which an incoming block of data should be written...">prepareToWrite()</a> to determine the position within your own buffer that an incoming block of data should be stored, and <a class="el" href="classAbstractFifo.html#a880ae9f1e0a08f3c0cfe95f03b279f96" title="Returns the location within the buffer from which the next block of data should be read...">prepareToRead()</a> to find out when the next outgoing block should be read from.</p>
<p>e.g. </p>
<div class="fragment"><div class="line"><span class="keyword">class </span>MyFifo</div>
<div class="line">{</div>
<div class="line"><span class="keyword">public</span>:</div>
<div class="line">    MyFifo()  : abstractFifo (1024)</div>
<div class="line">    {</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> addToFifo (<span class="keyword">const</span> <span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> start1, size1, start2, size2;</div>
<div class="line">        abstractFifo.prepareToWrite (numItems, start1, size1, start2, size2);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (size1 &gt; 0)</div>
<div class="line">            copySomeData (myBuffer + start1, someData, size1);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (size2 &gt; 0)</div>
<div class="line">            copySomeData (myBuffer + start2, someData + size1, size2);</div>
<div class="line"></div>
<div class="line">        abstractFifo.finishedWrite (size1 + size2);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line">    <span class="keywordtype">void</span> readFromFifo (<span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">    {</div>
<div class="line">        <span class="keywordtype">int</span> start1, size1, start2, size2;</div>
<div class="line">        abstractFifo.prepareToRead (numItems, start1, size1, start2, size2);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (size1 &gt; 0)</div>
<div class="line">            copySomeData (someData, myBuffer + start1, size1);</div>
<div class="line"></div>
<div class="line">        <span class="keywordflow">if</span> (size2 &gt; 0)</div>
<div class="line">            copySomeData (someData + size1, myBuffer + start2, size2);</div>
<div class="line"></div>
<div class="line">        abstractFifo.finishedRead (size1 + size2);</div>
<div class="line">    }</div>
<div class="line"></div>
<div class="line"><span class="keyword">private</span>:</div>
<div class="line">    <a class="code" href="classAbstractFifo.html">AbstractFifo</a> abstractFifo;</div>
<div class="line">    <span class="keywordtype">int</span> myBuffer [1024];</div>
<div class="line">};</div>
</div><!-- fragment --> </div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="accd680c366b4b8ca4f30ee8fb2b37b75"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AbstractFifo::AbstractFifo </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>capacity</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Creates a FIFO to manage a buffer with the specified capacity. </p>

</div>
</div>
<a class="anchor" id="a81ff19ff8eed394e9f7aca08ae1e8e8d"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">AbstractFifo::~AbstractFifo </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Destructor. </p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a7724b664c3aae6cbaad1a3821ccaf654"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AbstractFifo::getTotalSize </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the total size of the buffer being managed. </p>

</div>
</div>
<a class="anchor" id="aeb68b5aec74f6511c76df390eda588ee"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AbstractFifo::getFreeSpace </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of items that can currently be added to the buffer without it overflowing. </p>

</div>
</div>
<a class="anchor" id="a39ab3206298a1aabb4412a6993b4023b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">int AbstractFifo::getNumReady </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the number of items that can currently be read from the buffer. </p>

</div>
</div>
<a class="anchor" id="a33ba0f93c22c9cc182f8fa78af07862f"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractFifo::reset </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Clears the buffer positions, so that it appears empty. </p>

</div>
</div>
<a class="anchor" id="a5ece35129a957c8783411de69b2542ec"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractFifo::setTotalSize </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>newSize</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Changes the buffer's total size. </p>
<p>Note that this isn't thread-safe, so don't call it if there's any danger that it might overlap with a call to any other method in this class! </p>

</div>
</div>
<a class="anchor" id="a9f32996a86817773a7165be823f80c87"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractFifo::prepareToWrite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numToWrite</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the location within the buffer at which an incoming block of data should be written. </p>
<p>Because the section of data that you want to add to the buffer may overlap the end and wrap around to the start, two blocks within your buffer are returned, and you should copy your data into the first one, with any remaining data spilling over into the second.</p>
<p>If the number of items you ask for is too large to fit within the buffer's free space, then blockSize1 + blockSize2 may add up to a lower value than numToWrite. If this happens, you may decide to keep waiting and re-trying the method until there's enough space available.</p>
<p>After calling this method, if you choose to write your data into the blocks returned, you must call <a class="el" href="classAbstractFifo.html#a0daf6067beb737a4136e7e9d8f26bab0" title="Called after writing from the FIFO, to indicate that this many items have been added. ">finishedWrite()</a> to tell the FIFO how much data you actually added.</p>
<p>e.g. </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> addToFifo (<span class="keyword">const</span> <span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> start1, size1, start2, size2;</div>
<div class="line">    <a class="code" href="classAbstractFifo.html#a9f32996a86817773a7165be823f80c87">prepareToWrite</a> (numItems, start1, size1, start2, size2);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (size1 &gt; 0)</div>
<div class="line">        copySomeData (myBuffer + start1, someData, size1);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (size2 &gt; 0)</div>
<div class="line">        copySomeData (myBuffer + start2, someData + size1, size2);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classAbstractFifo.html#a0daf6067beb737a4136e7e9d8f26bab0">finishedWrite</a> (size1 + size2);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numToWrite</td><td>indicates how many items you'd like to add to the buffer </td></tr>
    <tr><td class="paramname">startIndex1</td><td>on exit, this will contain the start index in your buffer at which your data should be written </td></tr>
    <tr><td class="paramname">blockSize1</td><td>on exit, this indicates how many items can be written to the block starting at startIndex1 </td></tr>
    <tr><td class="paramname">startIndex2</td><td>on exit, this will contain the start index in your buffer at which any data that didn't fit into the first block should be written </td></tr>
    <tr><td class="paramname">blockSize2</td><td>on exit, this indicates how many items can be written to the block starting at startIndex2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classAbstractFifo.html#a0daf6067beb737a4136e7e9d8f26bab0" title="Called after writing from the FIFO, to indicate that this many items have been added. ">finishedWrite</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a0daf6067beb737a4136e7e9d8f26bab0"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractFifo::finishedWrite </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numWritten</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after writing from the FIFO, to indicate that this many items have been added. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classAbstractFifo.html#a9f32996a86817773a7165be823f80c87" title="Returns the location within the buffer at which an incoming block of data should be written...">prepareToWrite</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a880ae9f1e0a08f3c0cfe95f03b279f96"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractFifo::prepareToRead </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numWanted</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize1</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>startIndex2</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int &amp;&#160;</td>
          <td class="paramname"><em>blockSize2</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the location within the buffer from which the next block of data should be read. </p>
<p>Because the section of data that you want to read from the buffer may overlap the end and wrap around to the start, two blocks within your buffer are returned, and you should read from both of them.</p>
<p>If the number of items you ask for is greater than the amount of data available, then blockSize1 + blockSize2 may add up to a lower value than numWanted. If this happens, you may decide to keep waiting and re-trying the method until there's enough data available.</p>
<p>After calling this method, if you choose to read the data, you must call <a class="el" href="classAbstractFifo.html#a651019308fd148a1d1a84947d57e1679" title="Called after reading from the FIFO, to indicate that this many items have now been consumed...">finishedRead()</a> to tell the FIFO how much data you have consumed.</p>
<p>e.g. </p>
<div class="fragment"><div class="line"><span class="keywordtype">void</span> readFromFifo (<span class="keywordtype">int</span>* someData, <span class="keywordtype">int</span> numItems)</div>
<div class="line">{</div>
<div class="line">    <span class="keywordtype">int</span> start1, size1, start2, size2;</div>
<div class="line">    <a class="code" href="classAbstractFifo.html#a880ae9f1e0a08f3c0cfe95f03b279f96">prepareToRead</a> (numSamples, start1, size1, start2, size2);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (size1 &gt; 0)</div>
<div class="line">        copySomeData (someData, myBuffer + start1, size1);</div>
<div class="line"></div>
<div class="line">    <span class="keywordflow">if</span> (size2 &gt; 0)</div>
<div class="line">        copySomeData (someData + size1, myBuffer + start2, size2);</div>
<div class="line"></div>
<div class="line">    <a class="code" href="classAbstractFifo.html#a651019308fd148a1d1a84947d57e1679">finishedRead</a> (size1 + size2);</div>
<div class="line">}</div>
</div><!-- fragment --><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">numWanted</td><td>indicates how many items you'd like to add to the buffer </td></tr>
    <tr><td class="paramname">startIndex1</td><td>on exit, this will contain the start index in your buffer at which your data should be written </td></tr>
    <tr><td class="paramname">blockSize1</td><td>on exit, this indicates how many items can be written to the block starting at startIndex1 </td></tr>
    <tr><td class="paramname">startIndex2</td><td>on exit, this will contain the start index in your buffer at which any data that didn't fit into the first block should be written </td></tr>
    <tr><td class="paramname">blockSize2</td><td>on exit, this indicates how many items can be written to the block starting at startIndex2 </td></tr>
  </table>
  </dd>
</dl>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classAbstractFifo.html#a651019308fd148a1d1a84947d57e1679" title="Called after reading from the FIFO, to indicate that this many items have now been consumed...">finishedRead</a> </dd></dl>

</div>
</div>
<a class="anchor" id="a651019308fd148a1d1a84947d57e1679"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void AbstractFifo::finishedRead </td>
          <td>(</td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>numRead</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">noexcept</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called after reading from the FIFO, to indicate that this many items have now been consumed. </p>
<dl class="section see"><dt>See Also</dt><dd><a class="el" href="classAbstractFifo.html#a880ae9f1e0a08f3c0cfe95f03b279f96" title="Returns the location within the buffer from which the next block of data should be read...">prepareToRead</a> </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li><a class="el" href="juce__AbstractFifo_8h.html">juce_AbstractFifo.h</a></li>
</ul>
</div><!-- contents -->
<!-- HTML footer for doxygen 1.8.10-->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Wed Jan 24 2018 20:00:38 for JUCE by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.6 . All content &copy ROLI Ltd.
</small></address>
</body>
</html>
